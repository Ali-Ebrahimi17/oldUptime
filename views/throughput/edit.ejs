<% layout('layouts/boilerplate')%>

<div id="reallocation-container">


  <div class="row form-background">

    <div class="col-md-12 text-center">
      <h1>Update Faults</h1>
    </div>

    <div class="col">
      <form action="/throughput/<%= throughput._id %>?_method=PUT" method="POST">

        <label for="buildNumber">Full Build Number</label>
        <input class="form-control" type="text" name="buildNumber" value="<%= throughput.buildNumber %>" disabled>
        <input type="hidden" name="division" value="<%= division %>">
        <label for="area">Model</label>
        <select class="form-control" type="text" name="model" autocomplete="off" disabled>
          <option hidden><%= throughput.model %></option>
          <% models.forEach(model => { %>
          <option hidden><%= throughput.model %></option>

          <option label="<%= model.name %>" value="<%= model.name %>">

            <% }) %>
        </select>

        <label for="area">Inspector</label>
        <select class="form-control" type="text" name="inspector" autocomplete="off" disabled>
          <option hidden><%= throughput.inspector %></option>
          <% inspectors.forEach(inspector => { %>
          <option hidden><%= throughput.inspector %></option>

          <option label="<%= inspector.name %>" value="<%= inspector.name %>">

            <% }) %>
        </select>


        <label for="area">Building</label>
        <select class="form-control" type="text" name="building" autocomplete="off" disabled>
          <option hidden><%= throughput.building %></option>
          <option>AG PDI</option>
          <option>CFC</option>
        </select>

        <label for="area">T Card Fails</label>
        <select class="form-control" type="text" name="tCard" autocomplete="off" disabled>
          <option hidden><%= throughput.tCard %></option>
          <option>0</option>
          <option>1</option>
          <option>2</option>
          <option>3</option>
          <option>4</option>
          <option>5</option>
          <option>6</option>
          <option>7</option>
          <option>8</option>
          <option>9</option>
          <option>10</option>
          <option>11</option>
          <option>12</option>
          <option>13</option>
          <option>14</option>
          <option>15</option>
          <option>16</option>
          <option>17</option>
          <option>18</option>
          <option>19</option>
          <option>20</option>
        </select>

        <% if (division === 'Cabs') { %>
        <label for="area">Build Faults</label>
        <% } else { %>
        <label for="area">Functional Faults</label>
        <% } %>
        <select class="form-control" type="text" name="functional" autocomplete="off" disabled>
          <option hidden><%= throughput.functional %></option>
          <option>0</option>
          <option>1</option>
          <option>2</option>
          <option>3</option>
          <option>4</option>
          <option>5</option>
          <option>6</option>
          <option>7</option>
          <option>8</option>
          <option>9</option>
          <option>10</option>
          <option>11</option>
          <option>12</option>
          <option>13</option>
          <option>14</option>
          <option>15</option>
          <option>16</option>
          <option>17</option>
          <option>18</option>
          <option>19</option>
          <option>20</option>
        </select>

        <% if (division === 'Cabs') { %>
        <label for="area">Shortages</label>
        <% } else { %>
        <label for="area">Cosmetic Faults</label>
        <% } %>
        <select class="form-control" type="text" name="cosmetic" autocomplete="off" disabled>
          <option hidden><%= throughput.cosmetic %></option>
          <option>0</option>
          <option>1</option>
          <option>2</option>
          <option>3</option>
          <option>4</option>
          <option>5</option>
          <option>6</option>
          <option>7</option>
          <option>8</option>
          <option>9</option>
          <option>10</option>
          <option>11</option>
          <option>12</option>
          <option>13</option>
          <option>14</option>
          <option>15</option>
          <option>16</option>
          <option>17</option>
          <option>18</option>
          <option>19</option>
          <option>20</option>
        </select>
    </div>



    <div class="col">
      <label for="faults">Fault Detail</label>
      <textarea style="height:390px; margin-bottom: 25px;" class="form-control" name="throughput[faults]" required><%= throughput.faults %></textarea>
      <div class="form-group text-center">
        <button class="btn btn-lg btn-danger btn-block ">Update Faults</button>
      </div>
    </div>
    </form>
  </div>
  <form action="/throughput/<%= throughput._id %>/signout?_method=PUT" method="POST">
    <div class="form-group text-center float-left">
      <button class="btn btn-lg btn-success " style="margin-top: 20px;">Sign Out Machine</button>
    </div>
  </form>